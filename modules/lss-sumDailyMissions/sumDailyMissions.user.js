(function () {
    let site_location = window.location.href;
    if(site_location.match('daily'))
    {
        I18n.translations.de_DE['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patienten Behandlung',
            education: 'Ausbildung',
            purchase: 'gekauft',
            cancelled: 'Abgebrochen',
            cancelled2: 'Rückerstattung',
            extended: 'ausgebaut',
            extended2: 'erweitert',
            built: 'gebaut',
            team: 'Verbandse',
            prisoner: 'Gefangenen transportiert',
            num_missions: 'Anzahl Einsätze',
            num_patients: 'Anzahl Patienten',
            num_prisoners: 'Anzahl Gefangene',
            num_team: 'Anzahl Verbandseinlieferungen'
        };

        I18n.translations.en_US['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.es_ES['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'comprado',
            cancelled: 'Cancelled',
            extended: 'construida',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.pt_PT['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'comprado',
            cancelled: 'Cancelled',
            extended: 'construida',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.pl_PL['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Zwrot',
            extended: 'Postawiono',
            extended2: 'Extended',
            built: 'Postawiono',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.sv_SE['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Återlämna',
            extended: 'uppförd',
            extended2: 'Extended',
            built: 'uppförd',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.da_DK['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Återlämna',
            extended: 'uppförd',
            extended2: 'Extended',
            built: 'uppförd',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.nb_NO['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Återlämna',
            extended: 'uppförd',
            extended2: 'Extended',
            built: 'uppförd',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.it_IT['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Trattamento del paziente',
            education: 'educazione',
            purchase: 'acquisito',
            cancelled: 'Annullato',
            extended: 'edificata',
            extended2: 'Extended',
            built: 'edificata',
            team: 'Alleanza',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.tr_TR['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.fr_FR['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.ru_RU['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.uk_UA['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.cs_CZ['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.ja_JP['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.ko_KR['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patient Treatment',
            education: 'education',
            purchase: 'bought',
            cancelled: 'Cancelled',
            extended: 'constructed',
            extended2: 'Extended',
            built: 'constructed',
            team: 'Alliance',
            prisoner: 'Prisoner Transported',
            num_missions: 'Sum missions',
            num_patients: 'Sum patients',
            num_prisoners: 'Sum prisoners',
            num_team: 'Sum alliance'
        };

        I18n.translations.nl_NL['lssm']['sumDailyMissions'] = {
            patient_treatment: 'Patiënten behandeling',
            education: 'Opleiding',
            purchase: 'gekocht',
            cancelled: 'Afgebroken',
            extended: 'uitgebreid',
            extended2: 'uitgebreid',
            built: 'gebouwd',
            team: 'Team',
            prisoner: 'Arrestanten getransporteerd',
            num_missions: 'Aantal meldingen',
            num_patients: 'Aantal patiënten',
            num_prisoners: 'Aantal gevangenen',
            num_team: 'Aantal Teamopnames'
        };

        let anzahl_pro_einsatz = document.querySelectorAll("#iframe-inside-container > table > tbody > tr > td:nth-child(3)");
        let einsatz_titel = document.querySelectorAll("#iframe-inside-container > table > tbody > tr > td:nth-child(4)");
        let sum_einsaetze = 0;
        let sum_patienten = 0;
        let sum_gefangene = 0;
        let sum_verband = 0;

        let css = ''+
            '#num_label {margin-right: 5px;padding: 5px 0px 5px 5px;border: 1.5px solid black;font-size: inherit;border-radius: 5px;}'+
            '#num_anzahl {background: #333;padding: 4.5px;margin-left: 5px;margin-right: 1px;}'+
            '#num_icon {margin-right: 5px;}',

            head = document.head || document.getElementsByTagName('head')[0],
            style=document.createElement('style');

        style.type = 'text/css';
        if (style.styleSheet) style.styleSheet.cssText = css;
        else style.appendChild(document.createTextNode(css));
        head.appendChild(style);

        if(anzahl_pro_einsatz !== null && einsatz_titel !== null)
        {
            for(let i=0;i<anzahl_pro_einsatz.length;i++)
            {
                //Zähle Anzahl behandelter Patienten
                if(einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.patient_treatment')))
                {
                    anzahl = anzahl_pro_einsatz[i].innerHTML;
                    sum_patienten = sum_patienten + Number(anzahl.replace(" x",""));
                }
                //Zähle Ausbauten, abgebrochene Einsätze, Verbandseinlieferungen und Ausbildung nicht dazu
                else if(einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.extended')) ||
                        einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.purchase')) ||
                        einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.cancelled')) ||
                        einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.education')) ||
                        einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.extended2')) ||
                        einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.built')) ||
                        einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.cancelled2')))
                {
                }
                else if(einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.prisoner')))
                {
                    anzahl = anzahl_pro_einsatz[i].innerHTML;
                    sum_gefangene = sum_gefangene + Number(anzahl.replace(" x",""));
                }
                else if(einsatz_titel[i].innerText.match(I18n.t('lssm.sumDailyMissions.team')))
                {
                    anzahl = anzahl_pro_einsatz[i].innerHTML;
                    sum_verband = sum_verband + Number(anzahl.replace(" x",""));
                }
                //Alles andere sind normale Einsätze und können gezählt werden
                else
                {
                    anzahl = anzahl_pro_einsatz[i].innerHTML;
                    sum_einsaetze = sum_einsaetze + Number(anzahl.replace(" x",""));
                }
            }
            let tables = document.querySelectorAll("#iframe-inside-container > table");
            let table = tables[0];
            if(typeof table !== 'undefined' && table !== null)
                table.insertAdjacentHTML('beforebegin',
                    '<div class="label label-danger" id="num_label"><i class="glyphicon glyphicon-fire" id="num_icon"></i>'+
                    I18n.t('lssm.sumDailyMissions.num_missions')+'<span id="num_anzahl">'+sum_einsaetze+'</span></div>'+

                    '<div class="label label-warning" id="num_label"><i class="glyphicon glyphicon-plus" id="num_icon"></i>'+
                    I18n.t('lssm.sumDailyMissions.num_patients')+'<span id="num_anzahl">'+sum_patienten+'</span></div>'+

                    '<div class="label label-success" id="num_label"><i class="glyphicon glyphicon-plus" id="num_icon"></i>'+
                    I18n.t('lssm.sumDailyMissions.num_prisoners')+'<span id="num_anzahl">'+sum_gefangene+'</span></div>'+

                    '<div class="label label-info" id="num_label"><i class="glyphicon glyphicon-plus" id="num_icon"></i>'+
                    I18n.t('lssm.sumDailyMissions.num_team')+'<span id="num_anzahl">'+sum_verband+'</span></div><br><br>');
        }
    }
})();
